{"ast":null,"code":"var _jsxFileName = \"D:\\\\MSMS\\\\frontend\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiUrl } from \"../axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [formValues, setFormValues] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    username: \"\",\n    mobile_no: \"\",\n    email: \"\",\n    password: \"\",\n    cpassword: \"\"\n  });\n  const [formError, setFormError] = useState({});\n  const navigate = useNavigate();\n  const onChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Handle password confirmation\n    if (name === \"cpassword\") {\n      if (value !== formValues.password) {\n        setFormError(prev => ({\n          ...prev,\n          password: \"* Passwords do not match\"\n        }));\n      } else {\n        setFormError(prev => ({\n          ...prev,\n          password: \"\"\n        }));\n      }\n    } else {\n      setFormValues({\n        ...formValues,\n        [name]: value\n      });\n      // Reset error when changing other fields\n      if (name === \"password\" || name === \"cpassword\") {\n        setFormError(prev => ({\n          ...prev,\n          password: \"\"\n        }));\n      }\n    }\n  };\n  const submit = e => {\n    e.preventDefault();\n    // Validate before sending request\n    if (!formValues.first_name || !formValues.last_name || !formValues.username || !formValues.mobile_no || !formValues.email || !formValues.password) {\n      alert(\"Please fill in all fields.\");\n      return;\n    }\n    if (formValues.password !== formValues.cpassword) {\n      alert(\"Passwords do not match.\");\n      return;\n    }\n    userRegister();\n  };\n\n  // Register\n  const userRegister = async () => {\n    try {\n      const response = await axios.post(`${apiUrl}/user/`, formValues);\n      if (response.status === 200) {\n        alert(\"Registration successful\");\n        navigate(\"/login\");\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Registration error:\", error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Something went wrong.\";\n      alert(errorMessage); // Display error message\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"first_name\",\n        placeholder: \"First Name\",\n        value: formValues.first_name,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"last_name\",\n        placeholder: \"Last Name\",\n        value: formValues.last_name,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: formValues.username,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"mobile_no\",\n        placeholder: \"Mobile Number\",\n        value: formValues.mobile_no,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: formValues.email,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: formValues.password,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"cpassword\",\n        placeholder: \"Confirm Password\",\n        value: formValues.cpassword,\n        onChange: onChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), formError.password && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: formError.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"Y3G5t5aF7rPu4QZ91bifCMPKVNY=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","React","useState","useNavigate","apiUrl","jsxDEV","_jsxDEV","Register","_s","formValues","setFormValues","first_name","last_name","username","mobile_no","email","password","cpassword","formError","setFormError","navigate","onChangeHandler","e","name","value","target","prev","submit","preventDefault","alert","userRegister","response","post","status","error","_error$response","_error$response$data","console","errorMessage","data","children","onSubmit","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["D:/MSMS/frontend/src/pages/Register.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { apiUrl } from \"../axios\";\r\n\r\nexport default function Register() {\r\n  const [formValues, setFormValues] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    username: \"\",\r\n    mobile_no: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cpassword: \"\",\r\n  });\r\n  const [formError, setFormError] = useState({});\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const onChangeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    // Handle password confirmation\r\n    if (name === \"cpassword\") {\r\n      if (value !== formValues.password) {\r\n        setFormError((prev) => ({ ...prev, password: \"* Passwords do not match\" }));\r\n      } else {\r\n        setFormError((prev) => ({ ...prev, password: \"\" }));\r\n      }\r\n    } else {\r\n      setFormValues({ ...formValues, [name]: value });\r\n      // Reset error when changing other fields\r\n      if (name === \"password\" || name === \"cpassword\") {\r\n        setFormError((prev) => ({ ...prev, password: \"\" }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const submit = (e) => {\r\n    e.preventDefault();\r\n    // Validate before sending request\r\n    if (!formValues.first_name || !formValues.last_name || !formValues.username || !formValues.mobile_no || !formValues.email || !formValues.password) {\r\n      alert(\"Please fill in all fields.\");\r\n      return;\r\n    }\r\n    if (formValues.password !== formValues.cpassword) {\r\n      alert(\"Passwords do not match.\");\r\n      return;\r\n    }\r\n    userRegister();\r\n  };\r\n\r\n  // Register\r\n  const userRegister = async () => {\r\n    try {\r\n      const response = await axios.post(`${apiUrl}/user/`, formValues);\r\n      if (response.status === 200) {\r\n        alert(\"Registration successful\");\r\n        navigate(\"/login\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      const errorMessage = error.response?.data?.error || \"Something went wrong.\";\r\n      alert(errorMessage); // Display error message\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={submit}>\r\n        {/* Input fields for registration */}\r\n        <input\r\n          type=\"text\"\r\n          name=\"first_name\"\r\n          placeholder=\"First Name\"\r\n          value={formValues.first_name}\r\n          onChange={onChangeHandler}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"last_name\"\r\n          placeholder=\"Last Name\"\r\n          value={formValues.last_name}\r\n          onChange={onChangeHandler}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          placeholder=\"Username\"\r\n          value={formValues.username}\r\n          onChange={onChangeHandler}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"mobile_no\"\r\n          placeholder=\"Mobile Number\"\r\n          value={formValues.mobile_no}\r\n          onChange={onChangeHandler}\r\n        />\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={formValues.email}\r\n          onChange={onChangeHandler}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          value={formValues.password}\r\n          onChange={onChangeHandler}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"cpassword\"\r\n          placeholder=\"Confirm Password\"\r\n          value={formValues.cpassword}\r\n          onChange={onChangeHandler}\r\n        />\r\n        {formError.password && <p className=\"error\">{formError.password}</p>}\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,MAAM,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC;IAC3CS,UAAU,EAAE,EAAE;IACdC,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE9C,MAAMkB,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAE9B,MAAMkB,eAAe,GAAIC,CAAC,IAAK;IAC7B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;;IAEhC;IACA,IAAIF,IAAI,KAAK,WAAW,EAAE;MACxB,IAAIC,KAAK,KAAKf,UAAU,CAACO,QAAQ,EAAE;QACjCG,YAAY,CAAEO,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEV,QAAQ,EAAE;QAA2B,CAAC,CAAC,CAAC;MAC7E,CAAC,MAAM;QACLG,YAAY,CAAEO,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEV,QAAQ,EAAE;QAAG,CAAC,CAAC,CAAC;MACrD;IACF,CAAC,MAAM;MACLN,aAAa,CAAC;QAAE,GAAGD,UAAU;QAAE,CAACc,IAAI,GAAGC;MAAM,CAAC,CAAC;MAC/C;MACA,IAAID,IAAI,KAAK,UAAU,IAAIA,IAAI,KAAK,WAAW,EAAE;QAC/CJ,YAAY,CAAEO,IAAI,KAAM;UAAE,GAAGA,IAAI;UAAEV,QAAQ,EAAE;QAAG,CAAC,CAAC,CAAC;MACrD;IACF;EACF,CAAC;EAED,MAAMW,MAAM,GAAIL,CAAC,IAAK;IACpBA,CAAC,CAACM,cAAc,CAAC,CAAC;IAClB;IACA,IAAI,CAACnB,UAAU,CAACE,UAAU,IAAI,CAACF,UAAU,CAACG,SAAS,IAAI,CAACH,UAAU,CAACI,QAAQ,IAAI,CAACJ,UAAU,CAACK,SAAS,IAAI,CAACL,UAAU,CAACM,KAAK,IAAI,CAACN,UAAU,CAACO,QAAQ,EAAE;MACjJa,KAAK,CAAC,4BAA4B,CAAC;MACnC;IACF;IACA,IAAIpB,UAAU,CAACO,QAAQ,KAAKP,UAAU,CAACQ,SAAS,EAAE;MAChDY,KAAK,CAAC,yBAAyB,CAAC;MAChC;IACF;IACAC,YAAY,CAAC,CAAC;EAChB,CAAC;;EAED;EACA,MAAMA,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAM/B,KAAK,CAACgC,IAAI,CAAC,GAAG5B,MAAM,QAAQ,EAAEK,UAAU,CAAC;MAChE,IAAIsB,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QAC3BJ,KAAK,CAAC,yBAAyB,CAAC;QAChCT,QAAQ,CAAC,QAAQ,CAAC;MACpB;IACF,CAAC,CAAC,OAAOc,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACdC,OAAO,CAACH,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,MAAMI,YAAY,GAAG,EAAAH,eAAA,GAAAD,KAAK,CAACH,QAAQ,cAAAI,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBI,IAAI,cAAAH,oBAAA,uBAApBA,oBAAA,CAAsBF,KAAK,KAAI,uBAAuB;MAC3EL,KAAK,CAACS,YAAY,CAAC,CAAC,CAAC;IACvB;EACF,CAAC;EAED,oBACEhC,OAAA;IAAAkC,QAAA,eACElC,OAAA;MAAMmC,QAAQ,EAAEd,MAAO;MAAAa,QAAA,gBAErBlC,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXnB,IAAI,EAAC,YAAY;QACjBoB,WAAW,EAAC,YAAY;QACxBnB,KAAK,EAAEf,UAAU,CAACE,UAAW;QAC7BiC,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF1C,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXnB,IAAI,EAAC,WAAW;QAChBoB,WAAW,EAAC,WAAW;QACvBnB,KAAK,EAAEf,UAAU,CAACG,SAAU;QAC5BgC,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF1C,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXnB,IAAI,EAAC,UAAU;QACfoB,WAAW,EAAC,UAAU;QACtBnB,KAAK,EAAEf,UAAU,CAACI,QAAS;QAC3B+B,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF1C,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXnB,IAAI,EAAC,WAAW;QAChBoB,WAAW,EAAC,eAAe;QAC3BnB,KAAK,EAAEf,UAAU,CAACK,SAAU;QAC5B8B,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF1C,OAAA;QACEoC,IAAI,EAAC,OAAO;QACZnB,IAAI,EAAC,OAAO;QACZoB,WAAW,EAAC,OAAO;QACnBnB,KAAK,EAAEf,UAAU,CAACM,KAAM;QACxB6B,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF1C,OAAA;QACEoC,IAAI,EAAC,UAAU;QACfnB,IAAI,EAAC,UAAU;QACfoB,WAAW,EAAC,UAAU;QACtBnB,KAAK,EAAEf,UAAU,CAACO,QAAS;QAC3B4B,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,eACF1C,OAAA;QACEoC,IAAI,EAAC,UAAU;QACfnB,IAAI,EAAC,WAAW;QAChBoB,WAAW,EAAC,kBAAkB;QAC9BnB,KAAK,EAAEf,UAAU,CAACQ,SAAU;QAC5B2B,QAAQ,EAAEvB;MAAgB;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,EACD9B,SAAS,CAACF,QAAQ,iBAAIV,OAAA;QAAG2C,SAAS,EAAC,OAAO;QAAAT,QAAA,EAAEtB,SAAS,CAACF;MAAQ;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpE1C,OAAA;QAAQoC,IAAI,EAAC,QAAQ;QAAAF,QAAA,EAAC;MAAQ;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAACxC,EAAA,CAxHuBD,QAAQ;EAAA,QAYbJ,WAAW;AAAA;AAAA+C,EAAA,GAZN3C,QAAQ;AAAA,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}