{"ast":null,"code":"var _jsxFileName = \"D:\\\\MSMS\\\\frontend\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiUrl } from \"../axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [formValues, setFormValues] = useState({\n    first_name: '',\n    last_name: '',\n    username: '',\n    mobile_no: '',\n    email: '',\n    password: '',\n    cpassword: ''\n  });\n  const [formError, setFormError] = useState({\n    password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const onChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues({\n      ...formValues,\n      [name]: value\n    });\n    if (name === \"cpassword\" || name === \"password\") {\n      setFormError({\n        ...formError,\n        password: formValues.password !== formValues.cpassword ? \"*Passwords do not match\" : \"\"\n      });\n    }\n  };\n  const submit = async e => {\n    e.preventDefault();\n    if (Object.keys(formError).some(key => formError[key])) {\n      alert(\"Please fix the errors before submitting.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.post(`${apiUrl}/user/`, formValues);\n      if (response.status === 200) {\n        alert(\"Registration successful!\");\n        navigate(\"/login\");\n      }\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      alert(\"Registration failed. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"100vh\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      backgroundColor: \"lightgray\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      style: {\n        maxWidth: \"35%\",\n        boxShadow: \"2px 3px 8px black\",\n        backgroundColor: \"lightblue\",\n        padding: \"20px\",\n        borderRadius: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-dark text-center m-4\",\n        children: \"Registration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submit,\n        method: \"post\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"first_name\",\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            name: \"first_name\",\n            id: \"first_name\",\n            placeholder: \"First Name\",\n            className: \"form-control\",\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"cpassword\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"password\",\n            name: \"cpassword\",\n            placeholder: \"Confirm Password\",\n            className: \"form-control\",\n            id: \"cpassword\",\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger\",\n            children: formError.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-dark\",\n            disabled: loading,\n            children: loading ? \"Registering...\" : \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"FdN9KG1yRbLYtUR8Yx+lj1F9PTo=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["axios","React","useState","useNavigate","apiUrl","jsxDEV","_jsxDEV","Register","_s","formValues","setFormValues","first_name","last_name","username","mobile_no","email","password","cpassword","formError","setFormError","loading","setLoading","navigate","onChangeHandler","e","name","value","target","submit","preventDefault","Object","keys","some","key","alert","response","post","status","error","console","style","height","display","justifyContent","alignItems","backgroundColor","children","className","maxWidth","boxShadow","padding","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","method","htmlFor","required","type","id","placeholder","onChange","disabled","_c","$RefreshReg$"],"sources":["D:/MSMS/frontend/src/pages/Register.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { apiUrl } from \"../axios\";\r\n\r\nexport default function Register() {\r\n  const [formValues, setFormValues] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    username: '',\r\n    mobile_no: '',\r\n    email: '',\r\n    password: '',\r\n    cpassword: ''\r\n  });\r\n  const [formError, setFormError] = useState({ password: '' });\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const onChangeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormValues({ ...formValues, [name]: value });\r\n\r\n    if (name === \"cpassword\" || name === \"password\") {\r\n      setFormError({\r\n        ...formError,\r\n        password: (formValues.password !== formValues.cpassword) ? \"*Passwords do not match\" : \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    if (Object.keys(formError).some(key => formError[key])) {\r\n      alert(\"Please fix the errors before submitting.\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.post(`${apiUrl}/user/`, formValues);\r\n      if (response.status === 200) {\r\n        alert(\"Registration successful!\");\r\n        navigate(\"/login\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      alert(\"Registration failed. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: \"100vh\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", backgroundColor: \"lightgray\" }}>\r\n      <div className=\"container mt-5\" style={{ maxWidth: \"35%\", boxShadow: \"2px 3px 8px black\", backgroundColor: \"lightblue\", padding: \"20px\", borderRadius: \"10px\" }}>\r\n        <h3 className=\"text-dark text-center m-4\">Registration</h3>\r\n        <form onSubmit={submit} method=\"post\">\r\n          {/* Render inputs for first_name, last_name, etc. */}\r\n          {/* Example for First Name */}\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"first_name\">First Name</label>\r\n            <input required type=\"text\" name=\"first_name\" id=\"first_name\" placeholder=\"First Name\" className=\"form-control\" onChange={onChangeHandler} />\r\n          </div>\r\n          {/* Other inputs... */}\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"cpassword\">Confirm Password</label>\r\n            <input required type=\"password\" name=\"cpassword\" placeholder=\"Confirm Password\" className=\"form-control\" id=\"cpassword\" onChange={onChangeHandler} />\r\n            <p className=\"text-danger\">{formError.password}</p>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <button type=\"submit\" className=\"btn btn-dark\" disabled={loading}>{loading ? \"Registering...\" : \"Register\"}</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}