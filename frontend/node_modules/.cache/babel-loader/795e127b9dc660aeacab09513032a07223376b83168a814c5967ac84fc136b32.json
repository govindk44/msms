{"ast":null,"code":"var _jsxFileName = \"D:\\\\MSMS\\\\frontend\\\\src\\\\pages\\\\ChangePassword.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { apiUrl } from '../axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChangePassword() {\n  _s();\n  const [formValues, setFormValues] = useState({\n    current_password: \"\",\n    new_password: \"\",\n    confirm_password: \"\",\n    user_id: \"\"\n  });\n  const onChangeHandler = e => {\n    setFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value\n    });\n    console.log(formValues); // Be aware this will log the previous state due to the asynchronous nature of setState\n  };\n  const callAPI = async e => {\n    e.preventDefault(); // Prevent default form submission\n    const user_id = sessionStorage.getItem(\"user_id\");\n    const payload = {\n      ...formValues,\n      user_id\n    };\n    try {\n      const response = await axios.post(`${apiUrl}/user/changepassword`, payload);\n      if (response.status === 200) {\n        alert(response.data.message || \"Password changed successfully\"); // Ensure the response has a message\n      }\n    } catch (error) {\n      console.log(error);\n      alert(\"An error occurred. Please try again.\"); // Provide user feedback on error\n    }\n  };\n  useEffect(() => {\n    const user_id = sessionStorage.getItem(\"user_id\");\n    if (user_id) {\n      setFormValues(prev => ({\n        ...prev,\n        user_id\n      })); // Set user_id on mount\n    }\n  }, []);\n\n  // Inner CSS Styles\n  const styles = {\n    container: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100vh\",\n      background: \"linear-gradient(135deg, #f5f7fa, #c3cfe2)\"\n    },\n    form: {\n      backgroundColor: \"#ffffff\",\n      padding: \"40px\",\n      borderRadius: \"15px\",\n      boxShadow: \"0 4px 10px rgba(0, 0, 0, 0.1)\",\n      width: \"400px\" // Adjust the width as needed\n    },\n    title: {\n      textAlign: \"center\",\n      marginBottom: \"20px\",\n      fontSize: \"24px\",\n      color: \"#007bff\"\n    },\n    row: {\n      marginBottom: \"15px\"\n    },\n    label: {\n      marginBottom: \"5px\",\n      fontWeight: \"bold\"\n    },\n    input: {\n      width: \"100%\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      border: \"1px solid #ced4da\"\n    },\n    button: {\n      width: \"100%\",\n      padding: \"10px\",\n      borderRadius: \"5px\",\n      border: \"none\",\n      backgroundColor: \"#007bff\",\n      color: \"#ffffff\",\n      fontSize: \"16px\",\n      cursor: \"pointer\"\n    },\n    buttonHover: {\n      backgroundColor: \"#0056b3\" // Darker blue for hover effect\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      style: styles.form,\n      onSubmit: callAPI,\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.title,\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.row,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"current_password\",\n          style: styles.label,\n          children: \"Current Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\" // Use password type for security\n          ,\n          name: \"current_password\",\n          style: styles.input,\n          id: \"current_password\",\n          placeholder: \"Current Password\",\n          onChange: onChangeHandler,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.row,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"new_password\",\n          style: styles.label,\n          children: \"New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          style: styles.input,\n          name: \"new_password\",\n          placeholder: \"New Password\",\n          onChange: onChangeHandler,\n          id: \"new_password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.row,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"confirm_password\",\n          style: styles.label,\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          style: styles.input,\n          name: \"confirm_password\",\n          placeholder: \"Confirm Password\",\n          onChange: onChangeHandler,\n          id: \"confirm_password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: styles.button,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(ChangePassword, \"oDXApBA0n8DgfpD1iKasqbWZ+Ns=\");\n_c = ChangePassword;\nvar _c;\n$RefreshReg$(_c, \"ChangePassword\");","map":{"version":3,"names":["axios","React","useEffect","useState","apiUrl","jsxDEV","_jsxDEV","ChangePassword","_s","formValues","setFormValues","current_password","new_password","confirm_password","user_id","onChangeHandler","e","target","name","value","console","log","callAPI","preventDefault","sessionStorage","getItem","payload","response","post","status","alert","data","message","error","prev","styles","container","display","justifyContent","alignItems","height","background","form","backgroundColor","padding","borderRadius","boxShadow","width","title","textAlign","marginBottom","fontSize","color","row","label","fontWeight","input","border","button","cursor","buttonHover","style","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["D:/MSMS/frontend/src/pages/ChangePassword.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { apiUrl } from '../axios';\r\n\r\nexport default function ChangePassword() {\r\n  const [formValues, setFormValues] = useState({\r\n    current_password: \"\",\r\n    new_password: \"\",\r\n    confirm_password: \"\",\r\n    user_id: \"\"\r\n  });\r\n\r\n  const onChangeHandler = (e) => {\r\n    setFormValues({ ...formValues, [e.target.name]: e.target.value });\r\n    console.log(formValues); // Be aware this will log the previous state due to the asynchronous nature of setState\r\n  };\r\n\r\n  const callAPI = async (e) => {\r\n    e.preventDefault(); // Prevent default form submission\r\n    const user_id = sessionStorage.getItem(\"user_id\");\r\n    const payload = { ...formValues, user_id };\r\n\r\n    try {\r\n      const response = await axios.post(`${apiUrl}/user/changepassword`, payload);\r\n      if (response.status === 200) {\r\n        alert(response.data.message || \"Password changed successfully\"); // Ensure the response has a message\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(\"An error occurred. Please try again.\"); // Provide user feedback on error\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const user_id = sessionStorage.getItem(\"user_id\");\r\n    if (user_id) {\r\n      setFormValues(prev => ({ ...prev, user_id })); // Set user_id on mount\r\n    }\r\n  }, []);\r\n\r\n  // Inner CSS Styles\r\n  const styles = {\r\n    container: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      height: \"100vh\",\r\n      background: \"linear-gradient(135deg, #f5f7fa, #c3cfe2)\",\r\n    },\r\n    form: {\r\n      backgroundColor: \"#ffffff\",\r\n      padding: \"40px\",\r\n      borderRadius: \"15px\",\r\n      boxShadow: \"0 4px 10px rgba(0, 0, 0, 0.1)\",\r\n      width: \"400px\", // Adjust the width as needed\r\n    },\r\n    title: {\r\n      textAlign: \"center\",\r\n      marginBottom: \"20px\",\r\n      fontSize: \"24px\",\r\n      color: \"#007bff\",\r\n    },\r\n    row: {\r\n      marginBottom: \"15px\",\r\n    },\r\n    label: {\r\n      marginBottom: \"5px\",\r\n      fontWeight: \"bold\",\r\n    },\r\n    input: {\r\n      width: \"100%\",\r\n      padding: \"10px\",\r\n      borderRadius: \"5px\",\r\n      border: \"1px solid #ced4da\",\r\n    },\r\n    button: {\r\n      width: \"100%\",\r\n      padding: \"10px\",\r\n      borderRadius: \"5px\",\r\n      border: \"none\",\r\n      backgroundColor: \"#007bff\",\r\n      color: \"#ffffff\",\r\n      fontSize: \"16px\",\r\n      cursor: \"pointer\",\r\n    },\r\n    buttonHover: {\r\n      backgroundColor: \"#0056b3\", // Darker blue for hover effect\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <form style={styles.form} onSubmit={callAPI}> {/* Added form to handle submission */}\r\n        <h2 style={styles.title}>Change Password</h2>\r\n        <div style={styles.row}>\r\n          <label htmlFor=\"current_password\" style={styles.label}>\r\n            Current Password\r\n          </label>\r\n          <input\r\n            type=\"password\" // Use password type for security\r\n            name=\"current_password\"\r\n            style={styles.input}\r\n            id=\"current_password\"\r\n            placeholder='Current Password'\r\n            onChange={onChangeHandler}\r\n            required\r\n          />\r\n        </div>\r\n        <div style={styles.row}>\r\n          <label htmlFor=\"new_password\" style={styles.label}>\r\n            New Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            style={styles.input}\r\n            name=\"new_password\"\r\n            placeholder='New Password'\r\n            onChange={onChangeHandler}\r\n            id=\"new_password\"\r\n            required\r\n          />\r\n        </div>\r\n        <div style={styles.row}>\r\n          <label htmlFor=\"confirm_password\" style={styles.label}>\r\n            Confirm Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            style={styles.input}\r\n            name=\"confirm_password\"\r\n            placeholder='Confirm Password'\r\n            onChange={onChangeHandler}\r\n            id=\"confirm_password\"\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" style={styles.button}>\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}